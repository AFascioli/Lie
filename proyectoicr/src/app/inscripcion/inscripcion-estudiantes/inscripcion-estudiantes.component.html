<h1 class="componente-titulo">
  Inscribir estudiante a un curso para el ciclo lectivo {{fechaActual.getFullYear()}}
</h1>
<mat-card class="card-body-componente">
  <form #form="ngForm">
    <p class="aviso" *ngIf="!fechaDentroDeRangoInscripcion">
      Atención, no se puede realizar inscripciones debido a que nos encontramos
      fuera de las fechas
    </p>
    <div *ngIf="fechaDentroDeRangoInscripcion">
      <div class="ubicacionfecha">
        <b>Fecha: </b>
        &nbsp;
        <mat-form-field class="mat-form-Fecha">
          <input
            [disabled]="true"
            ngModel
            #diaFecha="ngModel"
            matInput
            name="diaFecha"
            [(ngModel)]="diaActual"
            required
            class="inputFecha"
          />
          {{ fechaActual | date: "EEEE" | titlecase }}
          {{ fechaActual | date: "dd/MM/yyyy" }}&nbsp;
        </mat-form-field>
      </div>
      <br />
      <div class="contenido" [class.contenido-mobile]="mobileQuery.matches">
        <mat-card>
          <p class="titulo-datos-est">Datos del estudiante</p>
          <mat-card-subtitle>
            <b>Apellido/s: </b> {{ apellidoEstudiante }}
            <br />
            <b>Nombre/s: </b> {{ nombreEstudiante }}
            <p class="mensajeAtencion" *ngIf="estudianteEstaInscripto">
              <b
                >Atención, el estudiante seleccionado ya esta inscripto en el
                curso
              </b>
              <label *ngFor="let curso of cursos" [innerHTML]= "curso.curso"  class="mensajeAtencioncurso"> </label>
            </p>
          </mat-card-subtitle>
        </mat-card>
      </div>
      <br />
      <br />
      <div class="div-selects">
        <mat-form-field class="curso">
          <mat-select
            placeholder="Seleccione curso"
            name="curso"
            ngModel
            #cursoSeleccionado="ngModel"
            matNativeControl
            required
            (selectionChange)="onCursoSeleccionado(cursoSeleccionado)"
          >
            <mat-option *ngFor="let objCurso of cursos" [value]="objCurso._id">
              {{ objCurso.curso }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <p class="capacidad" *ngIf="capacidadCurso >= 0">
        <b>Cupos disponibles: </b>{{ capacidadCurso }}
      </p>
      <br />
      <mat-accordion>
        <mat-expansion-panel
          [class.mat-expansion-panel-mobile]="mobileQuery.matches"
        >
          <mat-expansion-panel-header>
            <mat-panel-title>
              <b
                class="titulos-reg-doc"
                [class.titulos-reg-doc-mobile]="mobileQuery.matches"
                >Registrar documentos entregados</b
              >
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-checkbox (change)="registrarDocumento(0)">
            Fotocopia del documento</mat-checkbox
          >
          <br />
          <mat-checkbox (change)="registrarDocumento(1)">
            Ficha médica</mat-checkbox
          >
          <br />
          <mat-checkbox (change)="registrarDocumento(2)">
            Informe año anterior</mat-checkbox
          >
        </mat-expansion-panel>
      </mat-accordion>
      <br />
    </div>
    <div class="div-button">
      <button
        mat-raised-button
        class="button-primary"
        (click)="openDialogo(form)"
        mat-raised-button
        [disabled]="!fechaDentroDeRangoInscripcion"
      >
        Inscribir
      </button>
      <button
        mat-raised-button
        [routerLink]="['/buscar/lista']"
        class="button-warn"
      >
        Volver
      </button>
    </div>
  </form>
</mat-card>
