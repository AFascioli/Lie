<mat-card class="cardSpinner" *ngIf="isLoading">
  <mat-spinner class="spinner" [diameter]="60" ></mat-spinner>
</mat-card>

<h1 *ngIf="!isLoading" class="componente-titulo">Justificar inasistencia</h1>

<mat-card class="card-body-componente" *ngIf="!isLoading">
  <form #form="ngForm">
    <p class="aviso" *ngIf="fueraDeCursado" >
        No se permiten realizar justificaciones debido a que se encuentra fuera
        de las fechas permitidas
    </p>
    <div class="contenido" *ngIf="!fueraDeCursado">
      <p *ngIf="ultimasInasistencias.length == 0">
        <b>
          El estudiante seleccionado no tiene inasistencias para justificar en
          los últimos 5 días
        </b>
      </p>
      <p *ngIf="ultimasInasistencias.length != 0" class="p-inasistencias">
        <b>Inasistencias de los últimos 5 días </b>
      </p>
      <p
        class="p-inasistencias"
        *ngFor="let inasistencia of ultimasInasistencias; let i = index"
      >
        <mat-checkbox (change)="onChecked(i)"></mat-checkbox>
        {{ inasistencia.fecha | date: "EEEE" | titlecase }}
        {{ inasistencia.fecha | date: "dd/MM/yyyy" }}
      </p>
    </div>
    <div class="div-button">
      <button
        mat-raised-button
        [disabled]="ultimasInasistencias.length == 0"
        class="button-primary"
        mat-raised-button
        (click)="justificarInasistencia()"
      >
        Guardar
      </button>
      <button
        mat-raised-button
        [routerLink]="['/buscar/lista']"
        class="button-warn"
      >
        Volver
      </button>
    </div>
  </form>
</mat-card>
