<h1 class="componente-titulo">
  Definir agenda de curso
</h1>

<mat-card class="card-body-componente">
  <form #form="ngForm">
    <mat-form-field>
      <mat-select
        placeholder="Seleccione curso"
        name="curso"
        ngModel
        #curso="ngModel"
        matNativeControl
        required
      >
        <mat-option *ngFor="let curso of cursos" [value]="curso.id">
          {{ curso.curso }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-card
      *ngFor="let materia of materiasHTML; let j = index"
      class="card-body-componente"
    >
      <div>
        <h3>Materia seleccionada</h3>
        <mat-form-field>
          <mat-select
            placeholder="Seleccione materia"
            [name]="'materia' + j"
            ngModel
            #materia="ngModel"
            matNativeControl
            required
          >
            <mat-option *ngFor="let materia of materias" [value]="materia._id">
              {{ materia.nombre }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-select
            placeholder="Seleccione docente"
            [name]="'docente' + j"
            ngModel
            #docente="ngModel"
            matNativeControl
            required
          >
            <mat-option *ngFor="let docente of docentes" [value]="docente._id">
              {{ docente.apellido }}, {{ docente.nombre }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <br />
      <hr />
      <br />
      <div class="horario">
        <mat-form-field>
          <mat-select
            placeholder="Seleccione dia"
            [name]="'dia' + j"
            ngModel
            #dia="ngModel"
            matNativeControl
            required
          >
            <mat-option *ngFor="let objDia of dias" [value]="objDia">
              {{ objDia }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="matFormHora">
          <div class="hora">
            <input [name]="'horaInicio1'+j" ngModel #horaInicio1+j="ngModel" matInput [ngxTimepicker]="picker1" />
            <ngx-material-timepicker #picker1></ngx-material-timepicker>
          </div>
        </mat-form-field>
        <mat-form-field class="matFormHora">
          <div class="hora">
            <input name="horaFin1" matInput [ngxTimepicker]="picker2" />
            <ngx-material-timepicker #picker2></ngx-material-timepicker>
          </div>
        </mat-form-field>
        <mat-form-field>
          <mat-select
            placeholder="Seleccione dia"
            [name]="'dia2' + j"
            ngModel
            #dia="ngModel"
            matNativeControl
            required
          >
            <mat-option *ngFor="let objDia of dias" [value]="objDia">
              {{ objDia }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="matFormHora">
          <div class="hora">
            <input name="horaInicio2" matInput [ngxTimepicker]="picker3" />
            <ngx-material-timepicker #picker3></ngx-material-timepicker>
          </div>
        </mat-form-field>
        <mat-form-field class="matFormHora">
          <div class="hora">
            <input name="horaFin2" matInput [ngxTimepicker]="picker4" />
            <ngx-material-timepicker #picker4></ngx-material-timepicker>
          </div>
        </mat-form-field>
      </div>
      <br />
    </mat-card>
  </form>
  <div>
    <button
      mat-raised-button
      class="agregarHorario"
      (click)="agregarMateria(materiasHTML.length)"
    >
      <mat-icon>add_circle_outline</mat-icon> Agregar otra materia
    </button>
  </div>
  <div class="div-buttons">
    <button mat-raised-button class="buttonPrimary" (click)="onGuardar(form)">
      Guardar
    </button>
  </div>
</mat-card>
